if(ViPscw===undefined){var ViPscw={}}jQuery(document).ready(function(k){"use strict";let t=[];window.pscwGenerateID=()=>{let e=`ID_${Date.now()}`;if(t.includes(e)){e=pscwGenerateID()}else{t.push(e)}return e};k.fn.showsOn=function(e,t){const i=k(this);k(e).on("change",function(){i.toggle(k(this).val()===t)});k(e).trigger("change");return this};const n=VicPscwParams.imgUrl;const d=JSON.parse(VicPscwParams.interface);const r={title:VicPscwParams.scTitle,assign:VicPscwParams.assignTag,allow_countries:[],condition:VicPscwParams.assignValues};const p=Object.assign({},d.layout);const x=Object.assign({},d.elementsById);const c=wp.customize;const F=VicPscwParams.i18n;class P{constructor({label:e,id:t,type:i,value:s,choices:a,onClick:n,onChange:c,onInput:l,dependent:o}){this.label=e;this.id=t;this.type=i;this.value=s;this.choices=a;this.onClick=n;this.onChange=c;this.onInput=l;this.dependent=o}render(){let t=k(`<li id="customize-control-${this.id||""}" class="customize-control customize-control-text"></li>`);if(this.label){const e=k(`<label for="" class="customize-control-title"></label>`).text(this.label);t.append(e)}switch(this.type){case"input":t.append(this.createInput());break;case"inputNumber":t.append(this.createInput("number"));break;case"select":t.append(this.createSelect());break;case"button":t.append(this.createButton());break;case"colorPicker":let e=this.createColorPicker();t.append(e);e.wpColorPicker({change:this.onChange});break;case"checkbox":t.append(this.createCheckbox());break;case"rangeSlider":t.append(this.createRangeSlider());break;case"uploadImage":t.append(this.createUploadImage());break;case"layout":t.append(this.createLayout());break;case"textEditor":t.append(this.createTextEditor());break;case"toggleSection":t.append(this.createToggleSection());break;case"addItemTable":t.append(this.createAddItemTable());break;case"fourDimensional":t.append(this.createFourDimensional());break;case"radio":t.append(this.createRadio());break;case"templateColor":t.append(this.createTemplateColor());break;case"btnUpload":t.append(this.createBtnUpload());break;case"upgrade":t.append(this.createUpgrade());break;case"search":t.append(this.createSearch());break;default:throw new Error(F.unsupported_component_type)}return t}createUpgrade(){return k(`<a target="_blank" href="https://1.envato.market/zN1kJe" class="pscw-customize-customize-upgrade">
                                    Upgrade This Feature
                     </a>`)}createSearch(){let i=k(`<select id="customize-input-${this.id||""}" multiple class="hidden" ></select>`);if(this.value.assignTag===VicPscwParams.assignTag){this.value.assignValues.forEach(e=>{const t=k(`<option selected value="${e[0]}">${e[1]}</option>`);i.append(t)})}if(this.onChange){i.on("change",this.onChange)}return i}createInput(e="text"){const t=k(`<input id="customize-input-${this.id||""}" type="${e}">`).val(this.value||"");if(this.onInput){t.on("input",this.onInput)}if(this.onChange){t.on("change",this.onChange)}return t}createSelect(){const i=k(`<select id="customize-input-${this.id||""}"></select>`);if(typeof this.choices==="object"){for(const s in this.choices){let e=this.choices[s].includes("Premium")?"disabled":"";let t=k(`<option value="${s}" ${s===this.value?"selected":""} ${e}>${this.choices[s]}</option>`);i.append(t)}}if(this.onChange){i.on("change",this.onChange)}return i}createButton(){const e=k(`<button type="button" id="${this.id?"customize-button-"+this.id:""}">${this.value||""}</button>`);if(this.onClick){e.on("click",this.onClick)}return e}createColorPicker(){return k(`<input id="${this.id?"customize-color-picker-"+this.id:""}" class="color-picker-hex wp-color-picker" type="text" maxlength="7" placeholder="#ffffff" data-default-color="${this.value}" value="${this.value}">`)}createCheckbox(){const e=k(`<label for="${this.id?"customize-input-"+this.id:""}" class="pscw-toggle-checkbox"></label>`);const t=k(`<input type="checkbox" name="${this.id||""}" id="${this.id?"customize-input-"+this.id:""}" value="check" ${this.value?"checked":""}>`);if(this.onChange){t.on("change",this.onChange)}e.append(t);e.append(k("<span></span>"));return e}createRangeSlider(){const e=k(`<div class="pscw-customize-range"></div>`);const t=k(`<div class="vi-ui range pscw-customize-range1"></div>`);const i=k(`<input type="number" class="pscw-customize-range-value" value="${this?.value?.data?.start||0}">`);const s=k('<div class="pscw-custom-select"></div>');const a=k(`<select name="" class="pscw-customize-unit"></select>`);if(this?.value?.unit){let t=this?.value?.unit;for(const n in t){let e=k(`<option value="${n}" data-value="[${t[n]?.min},${t[n]?.step},${t[n]?.max}]" ${n===this.value?.data?.unit?"selected":""}>${t[n]?.name}</option>`);a.append(e)}}s.append(a);e.append(t);e.append(i);e.append(s);return e}createUploadImage(){const e=k(`<div class="pscw-customize-upload" id="${this.id||""}"></div>`);const{src:t,alt:i}=this.value;e.append(`<a href="javascript:void(0)" class="pscw-customize-image-wrap ${t?"remove":""}">
                <img src="${t||""}" alt="${i||""}" class="pscw-customize-image">
                <span class="pscw-customize-image-remove">&#x2715;</span>
                </a>
                <div>
                <span class="customize-control-title">URL</span>
                <input type="text" class="pscw-customize-image-url" value="${t||""}">
                </div>
                <div>
                <span class="customize-control-title">Alt</span>
                <input type="text" class="pscw-customize-image-alt" value="${i||""}">
                </div>`);return e}createLayout(e){let t=[],i={};if(e){t=e.children;i=e.elementsById}else{t=this.value.children;i=this.value.elementsById}let s=[];for(const a of t){s.push(this.renderLayoutItem(a,i))}return k(`<div class="pscw-customize-layout">
                                    <div class="pscw-customize-container">
                                        ${s.join("")}
                                    </div>
                                    <span class="customize-control-title">${F.click_items_below}</span>
                                    <div class="pscw-customize-row-list">
                                    <div class="pscw-customize-row-list-one pscw-customize-row-list-cols" data-cols="12">
                                    <div></div>
                                    </div>
                                   <a target="_blank" href="https://1.envato.market/zN1kJe" title="Premium feature" >
                                    <img src="${n}/layout_pre.jpg" alt="Premium feature">
                                    </a>
                                    </div>
                                   `)}createTextEditor(){return k(`<textarea id="${this.id}" style="width: 100%;">${this.value}</textarea>`)}createToggleSection(){let t=k(`<div class="pscw-customize-toggle-section" id="${this.id||""}">
                            <div class="pscw-customize-toggle-section-list-wrap">
                                <a href="javascript:void(0)" class="pscw-customize-add-toggle-section">&#65291; ${F.new_item}</a>
                                <div class="pscw-customize-toggle-section-list">
                                </div>
                               <div class="pscw-customize-toggle-section-tab-list">                               
                               </div>
                            </div>
                        </div>`);let i=0;for(const s of this.value.children){let e=k(`<div class="pscw-customize-toggle-section-item ${i===0?"active":""}" id="${s.id}">
                                        <span class="pscw-customize-toggle-section-item-title">${s.title}</span>
                                        <span class="pscw-customize-toggle-section-item-remove">&#x2715;</span></div>`);t.find(".pscw-customize-toggle-section-list").append(e);i++}return t}createAddItemTable(){let e=k(`<div class="pscw-customize-add-item-table"></div>`);let t=k(`<div class="pscw-customize-add-item-table-button pscw-customize-add-item-table-action__add">&#x2B;</div>`);let i=k(`<div class="pscw-customize-add-item-table-button pscw-customize-add-item-table-action__remove">&#x2212;</div>`);let s=k(`<input type="number" name="${this.id||""}" id="${this.id||""}" value="${this.value}" min="0">`);if(this.onChange){s.on("change",this.onChange)}if(this.onInput){s.on("input",this.onInput)}e.append(s);e.append(t);e.append(i);return e}createFourDimensional(){const t=this;let i=k(`<div class="pscw-customize-4-dimensional" id="${this.id||""}"></div>`);let s=[F.top,F.right,F.bottom,F.left];if(this.value.length>0){let e=0;for(const n of this.value){i.append(k(`<div><input type="number" value="${n}"><span>${s[e]}</span></div>`));e++}}const a=()=>{let e=[];i.find('input[type="number"]').each(function(){e.push(k(this).val())});return e};i.append(k(`<span class="dashicons dashicons-admin-links" title="${F.link_values_together}"></span>`));i.on("input",'input[type="number"]',function(){let e=i.find(".dashicons-admin-links").hasClass("pscw-link-values-together");if(e){i.find('input[type="number"]').val(k(this).val())}if(t.onChange){t.onChange(a())}});i.on("click",".dashicons-admin-links",function(){k(this).toggleClass("pscw-link-values-together");if(k(this).hasClass("pscw-link-values-together")){let e=i.find('div:first-child input[type="number"]').val();i.find('div:not(:first-child) input[type="number"]').val(e);if(t.onChange){t.onChange(a())}}});return i}createRadio(){let e=k(`<div class="pscw-customize-radio-container" id="${this.id||""}"></div>`);if(this.choices){for(const t in this.choices){if(t==="column"||t==="both"){e.append(k(`<div class="pscw-customize-radio-item">
                                                <a target="_blank" href="https://1.envato.market/zN1kJe">
                                                    <label for="${this.id+"-"+t}">${this.choices[t]}</label>
                                                </a>
                                               </div>`))}else{e.append(k(`<div class="pscw-customize-radio-item">
                        <input type="radio" name="${this.id||""}" id="${this.id+"-"+t}" value="${t}" ${t===this.value?"checked":""}>
                        <label for="${this.id+"-"+t}">${this.choices[t]}</label>
                        </div>`))}}}if(this.onInput){e.find(`input[name="${this.id}"]`).on("input",this.onInput)}return e}createBtnUpload(){let e=k(`<div class="pscw-customize-btn-upload-container"></div>`);let t=k(`<div class="pscw-customize-btn-import">${this.value}</div>`);let i=k(`<input type="file" hidden>`);let s=k(` <a target="_blank" href="https://1.envato.market/zN1kJe" title="Premium feature" >
                                    <img src="${n}/upload_pre.jpg" alt="Premium feature">
                                    </a>`);e.append(i);e.append(t);e.append(s);t.on("click",function(){i.trigger("click")});if(this.onChange){i.on("change",this.onChange)}return e}createTemplateColor(){let t=[];let e=k(`<div class="pscw-customize-template-color-container" id="${this.id||""}"></div>`);for(const i in this.choices){let e=this.choices[i];t.push(`<div class="pscw-customize-template-color-item" data-color="${i}" style="background: ${e.header}"></div>`)}e.append(t.join(""));if(this.onClick){e.on("click",this.onClick)}return e}renderLayoutItem(e,i){if(!i[e]){return""}let s=i[e];let a=[];switch(s.type){case"row":let e=[];for(const n of s.children){e.push(this.renderLayoutItem(n,i))}a.push(`
                    <div class="pscw-customize-row" id="${s.id}">
                        <span class="pscw-customize-row-remove">&#x2715;</span>
                        ${e.join("")}
                    </div>`);break;case"column":let t=[];for(const n of s.children){t.push(this.renderLayoutItem(n,i))}a.push(`
                    <div class="pscw-customize-col ${s.settings.class}" id="${s.id}">
                        <div class="pscw-customize-list-component pscw-connectedSortable">${t.join("")}</div>
                        <div class="pscw-customize-open-tab-component">&#65291;</div>
                    </div>`);break;case"table":case"text":case"image":a.push(`
                    <div class="pscw-customize-component" id="${s.id}">
                         ${s.type.charAt(0).toUpperCase()+s.type.slice(1)}
                         <div class="pscw-customize-component-action pscw-customize-component-action__edit">&#9998;</div>
                         <div class="pscw-customize-component-action pscw-customize-component-action__remove">&#x2715;</div>
                    </div>
                    `);break}return a.join("")}}c.previewer.bind("pscw-input-table-change",function(e){if(e){c("woo_sc_setting[cus_design]").set(!c("woo_sc_setting[cus_design]").get())}});c.previewer.bind("pscw-preview-get-data-table",function(e){if(e){c.previewer.send("pscw-setting-send-data-table",x[e])}});ViPscw.CustomizeSettings={init(){this.selectedCol=null;this.selectedEditEle=null;this.back=null;this.selectedContainerType="container";this.borderOptions={solid:"Solid",dotted:"Dotted",dashed:"Dashed",double:"Double",groove:"Groove",ridge:"Ridge",inset:"Inset",outset:"Outset"};this.templateColors={grey:{header:"#F6F6F6",even:"#FFFFFF",odd:"#F6F6F6",textHeader:"#000000",border:"#F6F6F6",headerTextBold:true},red:{header:"#BD171B",even:"#FAF6F6",odd:"#FFF0F0",textHeader:"#ffffff",border:"#BD171B",headerTextBold:true},orange:{header:"#FF801F",even:"#FFF9F4",odd:"#FFF2E8",textHeader:"#ffffff",border:"#FF801F",headerTextBold:true},blue:{header:"#70B5D5",even:"#F0FAFF",odd:"#DCF4FF",border:"#70B5D5"},black:{header:"#323232",even:"#F8F8F8",odd:"#EAEAEA",textHeader:"#ffffff",border:"#323232",headerTextBold:true},brightCyan:{header:"#00D1D1",even:"#F2FFFF",odd:"#E5FFFF",border:"#00D1D1",headerTextBold:true},amberYellow:{header:"#FFCA0A",even:"#FFFCF2",odd:"#FFF9E3",border:"#FFCA0A",headerTextBold:true},green:{header:"#41B729",even:"#F2FFEF",odd:"#E1FBDB",border:"#41B729",headerTextBold:true},tealBlue:{header:"#18889D",even:"#E7FBFF",odd:"#D2F3FA",border:"#18889D",headerTextBold:true},seaweedGreen:{header:"#456E68",even:"#EAFBF8",odd:"#D2F1ED",textHeader:"#ffffff",border:"#456E68",headerTextBold:true},pastelPink:{header:"#F3A5AD",even:"#FFFCFC",odd:"#FFF0F0",textHeader:"#ffffff",border:"#F3A5AD",headerTextBold:true},skyBlue:{header:"#1B90FF",even:"#F3F9FF",odd:"#EAF5FF",textHeader:"#ffffff",border:"#1B90FF",headerTextBold:true},lavenderPurple:{header:"#8D72FF",even:"#F9F8FF",odd:"#F3F0FF",textHeader:"#ffffff",border:"#8D72FF",headerTextBold:true},electricPink:{header:"#FF32F9",even:"#FFF6FF",odd:"#FFEEFF",textHeader:"#ffffff",border:"#FF32F9",headerTextBold:true}};this.pscwId=null;this.load();this.handleDesign();this.handleImage();this.handleTextEditor();this.handleTable();this.handleOpenEditPanel();k(".customize-section-back").on("click",{self:this},this.sectionBack);k("#save").on("click",this.save.bind(this))},handleOpenEditPanel(){const t=this;c.previewer.bind("pscw-preview-open-edit-panel",function(e){if(e.id){if(t.selectedEditEle){if(t.selectedEditEle.id===e.id){return}if(t.selectedEditEle.type===x[e.id].type){c.section(`pscw_customizer_${t.selectedEditEle.type}`).expanded(false)}}if(e.parentId){t.back=x[e.parentId]}else{t.back=null}t.selectedEditEle=x[e.id];t.handleDataForOpenEditComponent(false)}})},save(e){const s=this.pscwId;if(!s){return}c.previewer.send("pscw-scan-data-table",true);c.previewer.bind("pscw-scaned-data-table",function(e){for(const i in e){x[i].columns=e[i].columns;x[i].rows=e[i].rows}let t={action:"pscw_save_size_chart_data",nonce:VicPscwParams.nonce,value:JSON.stringify({layout:p,elementsById:x}),pscwId:s,pscwData:JSON.stringify(r)};k.ajax({url:VicPscwParams.ajaxUrl,type:"post",dataType:"json",data:t,beforeSend:function(){},success:function(e){if(e?.success){console.log(e?.data)}},error:function(e){console.log(e?.data)},complete:function(){}})})},sectionBack(e){const t=e.data.self;let i=["text","image","table","design"];let s=k(this).parent().parent().parent().prop("id").replace("sub-accordion-section-pscw_customizer_","");if(i.indexOf(s)>-1){t.transmitData("exitEditComponent",{id:t.selectedEditEle?.id},false);c.section("pscw_customizer_design").expanded(true);t.selectedEditEle=null;t.back=null}if(!VicPscwParams.customizeMode&&s==="design"){c.section("pscw_customizer_design").expanded(false);c.panel("pscw_size_chart_customizer").expanded(false)}},load(){const t=this;const e=new URL(window.location.href);const i=new URLSearchParams(e.search);const s=i.get("autofocus[panel]"),a=i.get("autofocus[section]");t.pscwId=i.get("pscw_id")||VicPscwParams.currentSizeChart;if(s){c.panel(s).expanded(true)}if(a){c.section(a).expanded(true)}k("#customize-outer-theme-controls").append(`
            <ul class="customize-pane-child accordion-section-content accordion-section control-section control-section-outer" id="pscw-customize-component-panel">
                <li class="customize-control">
                    <div class="customize-section-title pscw-customize-component-panel-title">${F.select_component}
                    <span class="pscw-customize-component-panel-close">&#x2715;</span></div>
                    <div class="pscw-customize-component-panel-list">
                        <div class="pscw-customize-component-panel-item" data-component="image">
                            <span class="dashicons dashicons-cover-image"></span>
                            ${F.image}
                        </div>
                        <div class="pscw-customize-component-panel-item" data-component="table">
                            <span class="dashicons dashicons-editor-table"></span>
                            ${F.table}
                        </div>
                        <div class="pscw-customize-component-panel-item" data-component="text">
                            <span class="dashicons dashicons-text"></span>
                            ${F.text}
                        </div>
                        <a target="_blank" href="https://1.envato.market/zN1kJe" class="pscw-customize-component-panel-item" data-component="tab">
                            <span class="dashicons dashicons-table-row-after"></span>
                            ${F.tab} (Premium)
                        </a>
                        <a target="_blank" href="https://1.envato.market/zN1kJe" class="pscw-customize-component-panel-item" data-component="accordion">
                            <span class="dashicons dashicons-menu-alt3"></span>
                            ${F.accordion} (Premium)
                        </a>
                        <a target="_blank" href="https://1.envato.market/zN1kJe" class="pscw-customize-component-panel-item" data-component="divider">
                            <span class="dashicons dashicons-image-flip-vertical"></span>
                            ${F.divider} (Premium)
                        </a>
                    </div>
                </li>
            </ul>
            `);c.previewer.bind("pscw-get-elements",function(e){if(t.pscwId){c.previewer.send("pscw-receive-elements",x)}});k("#accordion-panel-pscw_size_chart_customizer").on("click",function(e){c.section("pscw_customizer_design").expanded(true);c.previewer.send("pscw-open-popup",true)})},handleDesign(){let e=new P({label:F.select_size_chart,type:"select",id:"pscw-select-size-chart",value:VicPscwParams.currentSizeChart,choices:VicPscwParams.sizeCharts,onChange:function(e){let t=k(this).val();const i=new URL(window.location.href);i.searchParams.set("pscw_id",t);window.location.href=i.toString()}});let t=new P({label:F.size_chart_title,type:"input",id:"pscw-size-chart-title",value:VicPscwParams.scTitle,onInput:function(e){r.title=k(this).val();ViPscw.CustomizeSettings.transmitData("","",true)}});let i=new P({label:F.select_country,type:"upgrade"});let s=new P({label:F.assign,type:"select",id:"pscw-size-chart-assign",value:VicPscwParams.assignTag,choices:JSON.parse(VicPscwParams.assignOptions),onChange:function(e){r.assign=k(this).val();ViPscw.CustomizeSettings.transmitData("","",true)}});let a=new P({label:F.search_product,type:"search",id:"pscw-size-chart-search-product",value:{assignTag:"products",assignValues:VicPscwParams.assignValues},onChange:function(e){r.condition=k(this).val();ViPscw.CustomizeSettings.transmitData("","",true)}});let n=new P({label:F.search_product_cat,type:"search",id:"pscw-size-chart-search-product-cat",value:{assignTag:"product_cat",assignValues:VicPscwParams.assignValues},onChange:function(e){r.condition=k(this).val();ViPscw.CustomizeSettings.transmitData("","",true)}});let c=new P({label:F.layout,value:{children:d?.layout?.children,elementsById:d?.elementsById},type:"layout"});const l=k("#sub-accordion-section-pscw_customizer_design");l.append(e.render());l.append(t.render());l.append(i.render());l.append(s.render());l.append(a.render());l.append(n.render());l.append(c.render());k(document.body).on("click",".pscw-customize-row-list-cols",{self:this},this.addRow);k(document.body).on("click",".pscw-customize-row-remove",{self:this},this.removeRow);k(document.body).on("click",".pscw-customize-open-tab-component",{self:this},this.openComponentPanel);k(document.body).on("click",".pscw-customize-component-action__remove",{self:this},this.removeComponent);k(document.body).on("click",".pscw-customize-component-action__edit",{self:this},this.openEditComponent);k(document.body).on("click",".pscw-customize-component-panel-close",{self:this},this.closeComponentPanel);k(document.body).on("click","#publish-settings",{self:this},this.refreshComponentPanel);k(document.body).on("click",".pscw-customize-component-panel-item",{self:this},this.addComponent);this.handleSortAble();this.changeComponentStatus();k("#customize-input-pscw-size-chart-search-product").select2({width:"100%",minimumInputLength:3,placeholder:"Product name...",allowClear:true,ajax:{type:"post",url:VicPscwParams.ajaxUrl,data:function(e){let t={key_search:e.term,action:"pscw_search_product",nonce:VicPscwParams.nonce};return t},processResults:function(e){return e?e:{results:[]}}}});k("#customize-control-pscw-size-chart-search-product").showsOn("#customize-input-pscw-size-chart-assign","products");const o=({placeholder:e,taxonomy:i})=>{return{width:"100%",minimumInputLength:1,placeholder:e,allowClear:true,ajax:{type:"post",url:VicPscwParams.ajaxUrl,data:function(e){let t={taxonomy:i,key_search:e.term,action:"pscw_search_term",nonce:VicPscwParams.nonce};return t},processResults:function(e){return e?e:{results:[]}}}}};k("#customize-input-pscw-size-chart-search-product-cat").select2(o({placeholder:"Product categories...",taxonomy:"product_cat"}));k("#customize-control-pscw-size-chart-search-product-cat").showsOn("#customize-input-pscw-size-chart-assign","product_cat")},handleImage(){const p=this;const u=k("#sub-accordion-section-pscw_customizer_image");c.section("pscw_customizer_image",function(e){e.expanded.bind(function(e){if(e&&p.selectedEditEle!==null){let e={label:F.upload_image,id:"pscw-upload-image",type:"uploadImage",value:{src:p.selectedEditEle?.src,alt:p.selectedEditEle?.alt}};let t=new P(e);let i={label:F.width,id:"pscw-image-width",type:"rangeSlider",value:{data:{unit:p.selectedEditEle?.widthUnit||"%",value:p.selectedEditEle?.width||100},unit:{px:{name:"px",min:0,max:1e3,step:1},"%":{name:"%",min:0,max:100,step:1},em:{name:"em",min:0,max:10,step:.1},rem:{name:"rem",min:0,max:10,step:.1},vw:{name:"vw",min:0,max:100,step:1}}}};let s=new P(i);let a=new P({label:F.height,type:"upgrade"});let n=new P({label:F.border_style,type:"upgrade"});let c=new P({label:F.border_style,type:"upgrade"});let l=new P({label:F.border_color,type:"upgrade"});let o=new P({label:F.padding,value:p.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-padding-image",onChange:function(e){p.transmitData("changeImagePadding",{id:p.selectedEditEle?.id,padding:e});x[p.selectedEditEle.id].padding=e}});let d=new P({label:F.margin,value:p.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-margin-image",onChange:function(e){p.transmitData("changeImageMargin",{id:p.selectedEditEle?.id,margin:e});x[p.selectedEditEle.id].margin=e}});let r=new P({label:F.object_fit,type:"upgrade"});u.append(t.render());p.handleUploadImage(e,"uploadImage");u.append(s.render());p.handleRangeSlider(i,"changeImageWidth","width","widthUnit");u.append(a.render());u.append(o.render());u.append(d.render());u.append(r.render());u.append(n.render());u.append(c.render());u.append(l.render())}else{u.children().not(".customize-section-description-container").remove()}})})},handleTextEditor(){const s=this;const a=k("#sub-accordion-section-pscw_customizer_text");c.section("pscw_customizer_text",function(e){e.expanded.bind(function(e){if(e&&s.selectedEditEle!==null){let e={label:F.text,id:"pscw-text-editor",type:"textEditor",value:s.selectedEditEle?.value};let t=new P(e);let i=new P({label:F.margin,value:s.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-margin-accordion",onChange:function(e){s.transmitData("changeTextEditorMargin",{id:s.selectedEditEle?.id,margin:e});x[s.selectedEditEle.id].margin=e}});a.append(t.render());a.append(i.render());if(typeof wp.editor.getDefaultSettings==="undefined"){wp.editor.getDefaultSettings=function(){return tinymce.settings}}wp.editor.remove(e.id);wp.editor.initialize(e.id,{tinymce:{theme:"modern",skin:"lightgray",language:"en",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"}},{selector:"img,table,dl.wp-caption",classes:"alignleft"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"}},{selector:"img,table,dl.wp-caption",classes:"aligncenter"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"}},{selector:"img,table,dl.wp-caption",classes:"alignright"}],strikethrough:{inline:"del"}},relative_urls:false,remove_script_host:false,convert_urls:false,browser_spellcheck:true,fix_list_elements:true,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:false,cache_suffix:"wp-mce-49110-20201110",resize:"vertical",menubar:false,branding:false,preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",end_container_on_empty_block:true,wpeditimage_html5_captions:true,wp_lang_attr:"en-US",wp_keep_scroll_position:false,wp_shortcut_labels:{"Heading 1":"access1","Heading 2":"access2","Heading 3":"access3","Heading 4":"access4","Heading 5":"access5","Heading 6":"access6",Paragraph:"access7",Blockquote:"accessQ",Underline:"metaU",Strikethrough:"accessD",Bold:"metaB",Italic:"metaI",Code:"accessX","Align center":"accessC","Align right":"accessR","Align left":"accessL",Justify:"accessJ",Cut:"metaX",Copy:"metaC",Paste:"metaV","Select all":"metaA",Undo:"metaZ",Redo:"metaY","Bullet list":"accessU","Numbered list":"accessO","Insert/edit image":"accessM","Insert/edit link":"metaK","Remove link":"accessS","Toolbar Toggle":"accessZ","Insert Read More tag":"accessT","Insert Page Break tag":"accessP","Distraction-free writing mode":"accessW","Add Media":"accessM","Keyboard Shortcuts":"accessH"},plugins:"charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wplink,wpdialogs,wptextpattern,wpview",selector:"#pscw-text-editor",wpautop:true,indent:false,toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,spellchecker,fullscreen,wp_adv",toolbar2:"strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",tabfocus_elements:":prev,:next",body_class:"excerpt post-type-product post-status-publish page-template-default locale-en-us",setup:function(t){t.on("input change",function(e){s.transmitData("changeTextEditor",{id:s.selectedEditEle?.id,value:t.getContent()});x[s.selectedEditEle?.id].value=t.getContent()})}},mediaButtons:true,quicktags:true})}else{a.children().not(".customize-section-description-container").remove()}})})},handleTable(){const C=this;const y=k("#sub-accordion-section-pscw_customizer_table");y.on("click","#customize-control-pscw-add-columns-table .pscw-customize-add-item-table-action__add",{self:this},this.addColumns);y.on("click","#customize-control-pscw-add-rows-table .pscw-customize-add-item-table-action__add",{self:this},this.addRows);y.on("click","#customize-control-pscw-add-columns-table .pscw-customize-add-item-table-action__remove",{self:this},this.removeColumns);y.on("click","#customize-control-pscw-add-rows-table .pscw-customize-add-item-table-action__remove",{self:this},this.removeRows);c.section("pscw_customizer_table",function(e){e.expanded.bind(function(e){if(e&&C.selectedEditEle!==null){let e=new P({label:F.add_columns,type:"addItemTable",id:"pscw-add-columns-table",value:1,onInput:function(e){let t=k(this).val();if(t===""||parseFloat(t)<0){k(this).val("")}}});let t=new P({label:F.add_rows,type:"addItemTable",id:"pscw-add-rows-table",value:1,onInput:function(e){let t=k(this).val();if(t===""||parseFloat(t)<0){k(this).val("")}}});let i=new P({label:F.header_background,type:"colorPicker",value:C.selectedEditEle.headerBackground,id:"pscw-header-background-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeHeaderBackground",{id:C.selectedEditEle?.id,headerColumn:C.selectedEditEle.headerColumn,headerBackground:i,evenBackground:C.selectedEditEle.evenBackground});x[C.selectedEditEle.id].headerBackground=i}});let s=new P({label:F.text_header,type:"colorPicker",value:C.selectedEditEle.textHeader,id:"pscw-text-header-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeTextHeader",{id:C.selectedEditEle?.id,headerColumn:C.selectedEditEle.headerColumn,textHeader:i});x[C.selectedEditEle.id].textHeader=i}});let a=new P({label:F.header_text_bold,type:"checkbox",id:"pscw-header-text-bold-table",value:C.selectedEditEle.headerTextBold,onChange:function(e){let t=k(this).prop("checked");C.transmitData("changeHeaderTextBold",{id:C.selectedEditEle.id,headerColumn:C.selectedEditEle.headerColumn,headerTextBold:t});x[C.selectedEditEle.id].headerTextBold=t}});let n=new P({label:F.header_text_size,type:"upgrade"});let c=new P({label:F.columns_style,type:"checkbox",id:"pscw-columns-style-table",value:C.selectedEditEle.columnsStyle,onChange:function(e){let t=k(this).prop("checked");C.transmitData("changeTableStyle",{id:C.selectedEditEle.id,columnsStyle:t,evenBackground:C.selectedEditEle.evenBackground,evenText:C.selectedEditEle.evenText,headerColumn:C.selectedEditEle.headerColumn,oddBackground:C.selectedEditEle.oddBackground,oddText:C.selectedEditEle.oddText});x[C.selectedEditEle.id].columnsStyle=t}});let l=new P({label:F.even_background,type:"colorPicker",value:C.selectedEditEle.evenBackground,id:"pscw-even-background-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeEvenBackground",{id:C.selectedEditEle?.id,columnsStyle:C.selectedEditEle.columnsStyle,evenBackground:i,headerColumn:C.selectedEditEle.headerColumn});x[C.selectedEditEle.id].evenBackground=i}});let o=new P({label:F.even_text,type:"colorPicker",value:C.selectedEditEle.evenText,id:"pscw-even-text-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeEvenText",{id:C.selectedEditEle?.id,columnsStyle:C.selectedEditEle.columnsStyle,evenText:i,headerColumn:C.selectedEditEle.headerColumn});x[C.selectedEditEle.id].evenText=i}});let d=new P({label:F.odd_background,type:"colorPicker",value:C.selectedEditEle.oddBackground,id:"pscw-odd-background-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeOddBackground",{id:C.selectedEditEle?.id,columnsStyle:C.selectedEditEle.columnsStyle,oddBackground:i,headerColumn:C.selectedEditEle.headerColumn});x[C.selectedEditEle.id].oddBackground=i}});let r=new P({label:F.odd_text,type:"colorPicker",value:C.selectedEditEle?.oddText,id:"pscw-odd-text-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeOddText",{id:C.selectedEditEle?.id,columnsStyle:C.selectedEditEle.columnsStyle,oddText:i,headerColumn:C.selectedEditEle.headerColumn});x[C.selectedEditEle.id].oddText=i}});let p=new P({label:F.border_color,type:"colorPicker",value:C.selectedEditEle.borderColor,id:"pscw-border-color-table",onChange:function(e,t){let i=t.color.toString();C.transmitData("changeBorderColor",{id:C.selectedEditEle?.id,borderColor:i});x[C.selectedEditEle.id].borderColor=i}});let u=new P({label:F.cell_text_size,type:"upgrade"});let m=new P({label:F.horizontal_border_width,type:"inputNumber",value:C.selectedEditEle.horizontalBorderWidth,id:"pscw-horizontal-border-width-table",onInput:function(e){let t=k(this).val();if(t===""||parseFloat(t)<0){k(this).val("")}C.transmitData("changeBorderWidth",{id:C.selectedEditEle.id,horizontalBorderWidth:t,verticalBorderWidth:C.selectedEditEle.verticalBorderWidth});x[C.selectedEditEle.id].horizontalBorderWidth=t}});let h=new P({label:F.horizontal_border_style,type:"select",id:"pscw-horizontal-border-style-table",value:C.selectedEditEle.horizontalBorderStyle,choices:C.borderOptions,onChange:function(e){let t=k(this).val();C.transmitData("changeTableBorderStyle",{id:C.selectedEditEle.id,horizontalBorderStyle:t,verticalBorderStyle:C.selectedEditEle.verticalBorderStyle});x[C.selectedEditEle.id].horizontalBorderStyle=t}});let g=new P({label:F.vertical_border_width,type:"inputNumber",value:C.selectedEditEle.verticalBorderWidth,id:"pscw-vertical-border-width-table",onInput:function(e){let t=k(this).val();if(t===""||parseFloat(t)<0){k(this).val("")}C.transmitData("changeBorderWidth",{id:C.selectedEditEle.id,horizontalBorderWidth:C.selectedEditEle.horizontalBorderWidth,verticalBorderWidth:t});x[C.selectedEditEle.id].verticalBorderWidth=t}});let w=new P({label:F.vertical_border_style,type:"select",id:"pscw-vertical-border-style-table",value:C.selectedEditEle.verticalBorderStyle,choices:C.borderOptions,onChange:function(e){let t=k(this).val();C.transmitData("changeTableBorderStyle",{id:C.selectedEditEle.id,verticalBorderStyle:t,horizontalBorderStyle:C.selectedEditEle.horizontalBorderStyle});x[C.selectedEditEle.id].verticalBorderStyle=t}});let f=new P({label:F.margin,value:C.selectedEditEle.margin||[0,0,0,0],type:"fourDimensional",id:"pscw-margin-table",onChange:function(e){C.transmitData("changeTableMargin",{id:C.selectedEditEle?.id,margin:e});x[C.selectedEditEle.id].margin=e}});let v=new P({label:F.border_radius,value:C.selectedEditEle.borderRadius||[0,0,0,0],type:"fourDimensional",id:"pscw-border-radius-table",onChange:function(e){C.transmitData("changeTableBorderRadius",{id:C.selectedEditEle?.id,borderRadius:e});x[C.selectedEditEle.id].borderRadius=e}});let b=new P({label:F.max_height_px,type:"upgrade"});let E=new P({label:F.header_table,type:"radio",value:"row",choices:{row:F.row_header,column:F.column_header+" (Premium)",both:F.both_header+" (Premium)"},id:"pscw-table-header",onInput:function(e){let t="row";C.transmitData("changeHeaderColumn",Object.assign({},C.selectedEditEle,{headerColumn:t}));x[C.selectedEditEle.id].headerColumn=t}});let z=new P({label:F.template_color,type:"templateColor",value:"",choices:C.templateColors,id:"pscw-table-template-color",onClick:function(e){let t=C.templateColors[k(e.target).data("color")];if(t?.header){k("#customize-color-picker-pscw-header-background-table").wpColorPicker("color",t?.header)}if(t?.even){k("#customize-color-picker-pscw-even-background-table").wpColorPicker("color",t?.even)}if(t?.odd){k("#customize-color-picker-pscw-odd-background-table").wpColorPicker("color",t?.odd)}if(t?.textHeader){k("#customize-color-picker-pscw-text-header-table").wpColorPicker("color",t?.textHeader)}if(t?.border){k("#customize-color-picker-pscw-border-color-table").wpColorPicker("color",t?.border)}if(t?.headerTextBold){k("#customize-input-pscw-header-text-bold-table").prop("checked",true).trigger("change")}}});let _=new P({type:"btnUpload",value:F.import_csv,id:"pscw-table-import-csv",onChange:function(e){let t=this.files[0];let i=t["name"].split(".").pop().toLowerCase();if(i!=="csv"){alert(F.required_file_csv)}else{let e=new FileReader;e.readAsText(t);e.onload=function(e){let t=e.target.result;let i=t.split("\n");if(i.length>0){let e=confirm(F.confirm_replace_csv);if(e){C.transmitData("importCSV",Object.assign({},C.selectedEditEle,{csv:i}))}else{k(this).val("")}}else{alert(F.alert_csv_empty)}}}}});y.append(z.render());y.append(e.render());y.append(t.render());y.append(E.render());y.append(i.render());y.append(s.render());y.append(a.render());y.append(n.render());y.append(c.render());y.append(l.render());y.append(o.render());y.append(d.render());y.append(r.render());y.append(p.render());y.append(u.render());y.append(m.render());y.append(h.render());y.append(g.render());y.append(w.render());y.append(v.render());y.append(f.render());y.append(b.render());y.append(_.render())}else{y.children().not(".customize-section-description-container").remove();C.selectedContainerType="container"}})})},addColumns(e){const t=e.data.self;let i=k("#pscw-add-columns-table").val();t.transmitData("addColumns",Object.assign({},t.selectedEditEle,{columns:i}))},addRows(e){const t=e.data.self;let i=k("#pscw-add-rows-table").val();t.transmitData("addRows",Object.assign({},t.selectedEditEle,{rows:i}))},removeColumns(e){const t=e.data.self;let i=k("#pscw-add-columns-table").val();t.transmitData("removeColumns",{id:t.selectedEditEle.id,columns:i})},removeRows(e){const t=e.data.self;let i=k("#pscw-add-rows-table").val();t.transmitData("removeRows",{id:t.selectedEditEle.id,rows:i})},handleUploadImage(e,c){const l=this;const o=k(`#${e?.id}`);let d=e?.value?.src,r=e?.value?.alt;o.on("click",function(e){const i=o.find(".pscw-customize-image-wrap"),s=o.find(".pscw-customize-image"),a=o.find(".pscw-customize-image-url"),n=o.find(".pscw-customize-image-alt");let t=e.target;switch(t.classList[0]){case"pscw-customize-image-wrap":case"pscw-customize-image":let t=wp.media({title:"Choose Image",button:{text:"Select"},multiple:false});t.on("select",function(){let e=t.state().get("selection").first().toJSON();if(0>e.url.trim().length){return}i.addClass("remove");s.attr("src",e.url);a.val(e.url);n.val(e.alt);d=e.url;r=e.alt;l.transmitData(c,{id:l.selectedEditEle?.id,value:{url:e.url,alt:e.alt}});x[l.selectedEditEle.id].src=d;x[l.selectedEditEle.id].alt=r});t.open();break;case"pscw-customize-image-remove":i.removeClass("remove");s.attr("src",VicPscwParams.placeholderImage);s.attr("alt","");a.val("");n.val("");d=VicPscwParams.placeholderImage;r="";l.transmitData(c,{id:l.selectedEditEle?.id,value:{url:VicPscwParams.placeholderImage,alt:""}});x[l.selectedEditEle.id].src=d;x[l.selectedEditEle.id].alt=r;break}});o.on("input",".pscw-customize-image-url",function(){let e=k(this).val();d=e;o.find(".pscw-customize-image").attr("src",e);l.transmitData(c,{id:l.selectedEditEle?.id,value:{url:e,alt:r}});x[l.selectedEditEle.id].src=d;x[l.selectedEditEle.id].alt=r});o.on("input",".pscw-customize-image-alt",function(){let e=k(this).val();r=e;o.find(".pscw-customize-image").attr("alt",e);l.transmitData(c,{id:l.selectedEditEle?.id,value:{url:d,alt:e}});x[l.selectedEditEle.id].src=d;x[l.selectedEditEle.id].alt=r})},handleRangeSlider(e,i,s,a){const n=this;const c=(e,t,i,s)=>{e.off("change");e.on("change",function(){let e=parseInt(k(this).val()||0);if(e>parseInt(i)){e=i}else if(e<parseInt(t)){e=t}s.range("set value",e)})};let t=k(`#customize-control-${e.id}`);let l=t.find(".pscw-customize-range"),o=t.find(".pscw-customize-range1"),d=l.find(".pscw-customize-range-value"),r=l.find(".pscw-customize-unit");let p=e?.value?.data?.unit;let u=e?.value?.unit[p]?.min||0,m=e?.value?.unit[p]?.max||0,h=e?.value?.data?.value||0,g=e?.value?.unit[p]?.step||1;let w=0,f=h,v=p;o.range({min:u,max:m,start:h,step:g,input:d,onChange:function(t){if(w>0){f=t;let e={};e.id=n.selectedEditEle?.id;e[s]=f;e[a]=v;n.transmitData(i,e);x[n.selectedEditEle?.id][s]=f;x[n.selectedEditEle?.id][a]=v}w=1}});r.on("change",function(){let e=k(this).find("option:selected");let t=e.data("value");v=e.text();o.range({min:t[0],start:t[0],step:t[1],max:t[2],input:d,onChange:function(e){f=e;let t={};t.id=n.selectedEditEle?.id;t[s]=f;t[a]=v;n.transmitData(i,t);x[n.selectedEditEle?.id][s]=f;x[n.selectedEditEle?.id][a]=v}});c(d,t[0],t[2],o)});c(d,u,m,o)},handleSortAble(){const l=this;let o=-1,d=-1,r=false,p="",u="";k(".pscw-customize-list-component").sortable({connectWith:".pscw-connectedSortable",placeholder:"pscw-customize-component-place-holder",start:function(e,t){p=t.item.closest(".pscw-customize-col").attr("id");o=k(`#${p} .pscw-customize-list-component .pscw-customize-component`).index(t.item)},receive:function(){r=true},stop:function(e,t){const s=t.item,a=s[0].id;u=s.closest(".pscw-customize-col").attr("id");d=k(`#${u} .pscw-customize-list-component .pscw-customize-component`).index(t.item);let n={};let i=x[p].children[o];let c=x[u].children[d];if(r===true){if(s.prev().length>0){let e=s.prev(),t=x[u].children.indexOf(e.attr("id"));if(t!==-1){x[u].children.splice(t+1,0,a)}let i=x[x[a].parent].children.indexOf(a);if(i!==-1){x[x[a].parent].children.splice(i,1)}x[a].parent=u;n={func:"after",targetId:e.attr("id"),id:a}}else if(s.next().length>0){let e=s.next();let t=x[u].children.indexOf(e.attr("id"));if(t!==-1){x[u].children.splice(t,0,a)}let i=x[x[a].parent].children.indexOf(a);if(i!==-1){x[x[a].parent].children.splice(i,1)}x[a].parent=u;n={func:"before",targetId:e.attr("id"),id:a}}else{let e=x[x[a].parent].children.indexOf(a);if(e!==-1){x[x[a].parent].children.splice(e,1)}x[a].parent=u;x[u].children=[a];n={func:"append",targetId:u,id:a}}}else{if(o>d){x[p].children.splice(o,1);x[p].children.splice(d,0,i);n={func:"before",targetId:c,id:a}}else{if(o+1===d){x[p].children.splice(o,1,c);x[p].children.splice(d,1,i)}else{x[p].children.splice(o,1);x[p].children.splice(d,0,i)}n={func:"after",targetId:c,id:a}}}r=false;p="";u="";o=-1;d=-1;l.transmitData("updateRow",n)}}).disableSelection()},addRow(e){const t=e.data.self,s="pscw-row-"+pscwGenerateID();let a=[],n=[],c=k(this).data("cols").toString().split(","),l=c.length,i="",o={};for(let i=0;i<l;++i){let e="pscw-col-"+pscwGenerateID();let t={id:e,class:`pscw-col-l-${c[i]}`,type:"column",parent:s,children:[],settings:{class:`pscw-customize-col-${c[i]}`}};x[e]=t;o[e]=t;n.push(e);a.push(`<div class="pscw-customize-col pscw-customize-col-${c[i]}" id="${e}">
                <div class="pscw-customize-list-component pscw-connectedSortable">
                </div>
                <div class="pscw-customize-open-tab-component">&#65291;</div>
                </div>`)}k(".pscw-customize-container").append(`<div class="pscw-customize-row" id="${s}"><span class="pscw-customize-row-remove">&#x2715;</span>${a.join("")}</div>`);p.children.push(s);x[s]={children:n,id:s,type:"row"};t.handleSortAble();t.transmitData("addRow",{id:s,type:"row",containerType:t.selectedContainerType,containerId:i,colsData:o})},removeRow(e){const t=e.data.self;let i=k(this).parent().attr("id"),s=t.getIdDescendantElements(i,x),a="";a=p.children.indexOf(i);p.children.splice(a,1);for(const n of s){delete x[n]}delete x[i];k(this).parent().remove();t.transmitData("removeRow",{id:i})},transmitData(e,t,i=true){if(i){c("woo_sc_setting[cus_design]").set(!c("woo_sc_setting[cus_design]").get())}if(e.length>0){c.previewer.send("pscw_change_value",{action:e,data:t})}},openComponentPanel(e){const t=e.data.self;if(t.selectedCol!==null){t.selectedCol.removeClass("selected")}t.selectedCol=k(this).parent();t.selectedCol.addClass("selected");k(document.body).addClass("outer-section-open");k("#pscw-customize-component-panel").addClass("open")},closeComponentPanel(e){const t=e.data.self;if(t.selectedCol){t.selectedCol.removeClass("selected");t.selectedCol=null}k(document.body).removeClass("outer-section-open");k("#pscw-customize-component-panel").removeClass("open")},refreshComponentPanel(e){const t=e.data.self;k("#pscw-customize-component-panel").removeClass("open");if(t.selectedCol){t.selectedCol.removeClass("selected");t.selectedCol=null}},addComponent(e){const c=e.data.self;if(c.selectedCol!==null){let t=k(this).data("component"),e=`pscw-${t}-${pscwGenerateID()}`,i=k(c.selectedCol).attr("id"),s=[];for(const l in x){let e=x[l].type;if(t===e){return}}let a={image:{alt:"",borderColor:"#000000",borderStyle:"solid",borderWidth:0,height:100,heightUnit:"%",width:100,widthUnit:"%",src:VicPscwParams.placeholderImage,padding:[0,0,0,0],margin:[0,0,0,0],objectFit:"unset"},table:{columns:[""],rows:[[""]],headerColumn:"row",headerBackground:"#ffffff",textHeader:"#000000",headerTextBold:true,headerTextSize:14,columnsStyle:false,evenBackground:"#ffffff",evenText:"#494949",oddBackground:"#ffffff",oddText:"#494949",borderColor:"#9D9D9D",cellTextSize:14,horizontalBorderWidth:1,horizontalBorderStyle:"solid",verticalBorderWidth:1,verticalBorderStyle:"solid",margin:[0,0,0,0],borderRadius:[0,0,0,0],tableMaxHeight:535},text:{value:F.add_your_text,margin:[0,0,0,0]}};if(!a[t]){return}x[e]=Object.assign({},{id:e,type:t,parent:i},a[t]);ViPscw.CustomizeSettings.changeComponentStatus();if(s.length>0){a[t].subData=s}let n=`<div class="pscw-customize-component" id="${e}">
                         ${t.charAt(0).toUpperCase()+t.slice(1)}
                         <div class="pscw-customize-component-action pscw-customize-component-action__edit">&#9998;</div>
                         <div class="pscw-customize-component-action pscw-customize-component-action__remove">&#x2715;</div>
                    </div>`;k(c.selectedCol).find(".pscw-customize-list-component").append(n);c.transmitData("addComponent",Object.assign({},{id:e,type:t,parent:i},a[t]));x[i].children.push(e);c.selectedCol.removeClass("selected");c.selectedCol=null;k(document.body).removeClass("outer-section-open");k("#pscw-customize-component-panel").removeClass("open")}},getIdDescendantElements(e,t){const i=this;if(typeof t[e]==="undefined"){return""}const s=t[e];let a=[];let n=[];switch(s.type){case"row":for(const c of s.children){a.push(c);n.push(...i.getIdDescendantElements(c,t))}if(n.length>0){a.push(...n)}break;case"column":for(const c of s.children){a.push(c);n.push(...i.getIdDescendantElements(c,t))}if(n.length>0){a.push(...n)}break}return a},removeComponent(e){e.stopPropagation();const t=e.data.self;let i=k(this).parent(),s=i.attr("id"),a=x[s].parent,n=x[a].children.indexOf(s);if(n!==-1){let e=t.getIdDescendantElements(s,x);x[a].children.splice(n,1);for(const c of e){delete x[c]}t.transmitData("removeComponent",{id:s});i.remove();delete x[s]}ViPscw.CustomizeSettings.changeComponentStatus()},openEditComponent(e){e.stopPropagation();const t=e.data.self;let i=k(this).parent().attr("id");t.selectedEditEle=x[i];t.handleDataForOpenEditComponent()},handleDataForOpenEditComponent(e=true){const t=this;if(e){t.transmitData("editComponent",{id:t.selectedEditEle.id,containerType:t.selectedContainerType},false)}switch(t.selectedEditEle?.type){case"divider":c.section("pscw_customizer_divider").expanded(true);break;case"accordion":c.section("pscw_customizer_accordion").expanded(true);break;case"tab":c.section("pscw_customizer_tab").expanded(true);break;case"text":c.section("pscw_customizer_text").expanded(true);break;case"table":c.section("pscw_customizer_table").expanded(true);break;case"image":c.section("pscw_customizer_image").expanded(true);break}},changeComponentStatus(){const t=Object.values(x).map(e=>e.type);k(".pscw-customize-component-panel-item").each(function(){const e=k(this).data("component");if(t.includes(e)){k(this).addClass("pscw-disabled")}else{k(this).removeClass("pscw-disabled")}})}};ViPscw.CustomizeSettings.init()});